# Test your FastAPI endpoints

# 기존 엔드포인트
GET http://127.0.0.1:8000/
Accept: application/json

###

GET http://127.0.0.1:8000/hello/User
Accept: application/json

###

# 1. Ping 테스트
GET http://127.0.0.1:8000/ping
Accept: application/json

###

# 2. 유저 재화 정보 조회
GET http://127.0.0.1:8000/users/user123/currency
Accept: application/json

###

GET http://127.0.0.1:8000/users/user456/currency
Accept: application/json

###

# 3. 유저 설정 정보 조회
GET http://127.0.0.1:8000/users/user123/settings
Accept: application/json

###

GET http://127.0.0.1:8000/users/user456/settings
Accept: application/json

###

# 4. 유저 설정 정보 갱신
PUT http://127.0.0.1:8000/users/user123/settings
Content-Type: application/json

{
  "font_size": 18,
  "app_theme_color": "purple",
  "favorite_poet": "이육사"
}

###

# 5. 결제 승인
POST http://127.0.0.1:8000/payments/approve
Content-Type: application/json

{
  "user_id": "user123",
  "payment_info": {
    "payment_id": "pay_12345",
    "amount": 500,
    "currency_type": "coins",
    "payment_method": "credit_card"
  }
}

###

# 6. 시 생성 (30초 이상 소요 - 테스트 시 주의!)
POST http://127.0.0.1:8000/poems/generate
Content-Type: application/json

{
  "style": "서정적",
  "poet": "윤동주",
  "theme_words": ["달", "그리움", "희망"],
  "length": "보통",
  "ai_model": "gpt-4"
}

###

# 7. 토큰 인증 및 검증
POST http://127.0.0.1:8000/auth/verify
Content-Type: application/json

{
  "token": "eyJhbGciOiJFUzI1NiIsImtpZCI6IjNiMGJhNTkyLWM5NDQtNGMzNS05OGFlLTBjNmQ5ZmNmZDJkMCIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJodHRwczovL3RuaWhuZnV3aGh0dmJrbWh3aXV0LnN1cGFiYXNlLmNvL2F1dGgvdjEiLCJzdWIiOiIwMWY4NDlkYy1jMjM1LTQ4YTMtODQ0Zi01YTk5NDkxNGIxNTgiLCJhdWQiOiJhdXRoZW50aWNhdGVkIiwiZXhwIjoxNzU3MTMwODk4LCJpYXQiOjE3NTcxMjcyOTgsImVtYWlsIjoiaXpvd29vaTg1QGdtYWlsLmNvbSIsInBob25lIjoiIiwiYXBwX21ldGFkYXRhIjp7InByb3ZpZGVyIjoiZ29vZ2xlIiwicHJvdmlkZXJzIjpbImdvb2dsZSJdfSwidXNlcl9tZXRhZGF0YSI6eyJhdmF0YXJfdXJsIjoiaHR0cHM6Ly9saDMuZ29vZ2xldXNlcmNvbnRlbnQuY29tL2EvQUNnOG9jSUx5c1ZWMzVrY01tMkNfVHhfVDIxUUk2a3l5cEs4NEM0Qkt0eERDdzRKcHhlMEhRVFFvUT1zOTYtYyIsImVtYWlsIjoiaXpvd29vaTg1QGdtYWlsLmNvbSIsImVtYWlsX3ZlcmlmaWVkIjp0cnVlLCJmdWxsX25hbWUiOiJKb25nV29vIFBhcmsiLCJpc3MiOiJodHRwczovL2FjY291bnRzLmdvb2dsZS5jb20iLCJuYW1lIjoiSm9uZ1dvbyBQYXJrIiwicGhvbmVfdmVyaWZpZWQiOmZhbHNlLCJwaWN0dXJlIjoiaHR0cHM6Ly9saDMuZ29vZ2xldXNlcmNvbnRlbnQuY29tL2EvQUNnOG9jSUx5c1ZWMzVrY01tMkNfVHhfVDIxUUk2a3l5cEs4NEM0Qkt0eERDdzRKcHhlMEhRVFFvUT1zOTYtYyIsInByb3ZpZGVyX2lkIjoiMTAzMTg1Mjc3ODkzMjQ4NzgxMjY2Iiwic3ViIjoiMTAzMTg1Mjc3ODkzMjQ4NzgxMjY2In0sInJvbGUiOiJhdXRoZW50aWNhdGVkIiwiYWFsIjoiYWFsMSIsImFtciI6W3sibWV0aG9kIjoib2F1dGgiLCJ0aW1lc3RhbXAiOjE3NTcxMjcyOTh9XSwic2Vzc2lvbl9pZCI6Ijg1MzU2M2NjLTYyMjktNGUxZC05ZWI1LWRhMjBjNDYyMWE1ZCIsImlzX2Fub255bW91cyI6ZmFsc2V9.3AKUt0LSVhCRgss1Edij7OLoI70Wb5Ogg3K-FmR8KnVNhtxgYdsHj8hK51hBVbCyDsWk0PXt9E83SAPjysj2Sg"
}

###

# 에러 케이스 테스트 - 잘못된 토큰
POST http://127.0.0.1:8000/auth/verify
Content-Type: application/json

{
  "token": "invalid.token.here"
}

###

# 에러 케이스 테스트 - 존재하지 않는 사용자
GET http://127.0.0.1:8000/users/nonexistent/currency
Accept: application/json

###
