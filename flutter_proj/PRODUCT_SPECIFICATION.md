# Poetry Writer - 제품 명세서

## 📝 프로젝트 개요

**Poetry Writer**는 초등학생부터 노인까지 누구나 쉽게 사용할 수 있는 AI 기반 시 창작 도구입니다. 사용자가 단어를 선택하면 AI가 시를 생성하고, 사용자는 이를 편집하여 자신만의 작품을 완성할 수 있습니다.

## 🎯 앱의 목표

- **접근성**: 모든 연령대가 직관적으로 사용할 수 있는 UI/UX
- **창작 지원**: AI를 활용한 시 창작 과정의 단순화
- **개인화**: 사용자 취향에 맞는 맞춤형 시 생성
- **오프라인 우선**: 네트워크 없이도 기본 기능 사용 가능

## 🏗️ 기술 스펙

### 클라이언트 (Flutter)

#### 아키텍처 원칙
- **SOLID 원칙** 준수
- **Clean Architecture** 적용

#### 상태 관리
- **Riverpod** 사용
- StateNotifier 패턴 적용

#### 데이터베이스
- **Drift DB** (로컬 데이터베이스)
  - 사용자 작품 저장
  - 설정 정보 저장
  - 오프라인 캐시

#### 백엔드 서비스
- **Supabase**
  - 사용자 정보 관리
  - 클라우드 동기화
- **Firebase SDK**
  - **Analytics**: 사용자 행동 분석
  - **Crashlytics**: 오류 추적 및 모니터링
  - **Remote Config**: 동적 설정 관리

#### 인증 시스템
- **Google 로그인**
- **Apple 로그인**
- **게스트 로그인** (로컬 전용)

### 서버 사이드

#### 인프라
- **Google Cloud Run**
  - 서버리스 컨테이너 플랫폼
  - 자동 스케일링

#### API 프레임워크
- **FastAPI**
  - 고성능 Python 웹 프레임워크
  - 자동 API 문서화

## ⚙️ 사용자 설정

사용자는 설정 화면에서 다음 항목들을 조정할 수 있습니다:

### 창작 설정
- **좋아하는 작가**: 시 스타일 참조
- **시의 성향**: 서정적, 서사적, 자유시 등
- **시의 길이**: 짧은 시, 보통, 긴 시
- **선택 단어 수**: 3~5개 (슬라이더)
- **어려운 단어 사용도**: 쉬운 단어 ↔ 어려운 단어 (슬라이더)

### 기술 설정
- **AI 모델 선택**: 다양한 AI 모델 중 선택
- **앱 컬러 테마**: 5가지 테마 중 선택

## 🚀 기술적 요구 사항

### 성능 최적화
1. **빠른 앱 실행**
   - 앱 실행 시 네트워크 요청 없음
   - 로컬 데이터 우선 로드
   - 스플래시 화면 최소화

2. **오프라인 지원**
   - 네트워크 연결 없이도 앱 실행 가능
   - 로컬 데이터베이스 활용
   - 오프라인 상태 표시

3. **비동기 로딩**
   - 네트워크 필요 기능은 백그라운드에서 로드
   - 점진적 UI 업데이트
   - 사용자 경험 중단 없음

### 데이터 동기화
- **로컬 우선**: 모든 작업은 로컬에서 먼저 처리
- **백그라운드 동기화**: 네트워크 가능 시 자동 동기화
- **충돌 해결**: 로컬/클라우드 데이터 충돌 시 사용자 선택

## 📱 주요 기능

### 1. 시 창작 프로세스
1. **단어 선택**: 무작위 제시된 단어 중 선택
2. **AI 시 생성**: 선택된 키워드로 시 템플릿 생성
3. **편집 및 완성**: 사용자가 시를 편집하여 완성
4. **저장 및 공유**: 완성된 시를 저장하고 공유

### 2. 작품 관리
- **작품 목록**: 사용자가 작성한 모든 시 조회
- **검색 및 필터**: 키워드, 날짜, 태그로 검색
- **백업 및 복원**: 클라우드 동기화

### 3. 설정 및 개인화
- **사용자 프로필**: 선호도 설정
- **테마 변경**: 다양한 컬러 테마
- **AI 모델 선택**: 창작 스타일 조정

## 🔧 개발 환경

### 필수 도구
- **Flutter SDK**: 3.9.0+
- **Dart**: 3.0.0+
- **Android Studio** 또는 **VS Code**

### 의존성 관리
```yaml
dependencies:
  flutter_riverpod: ^2.4.10
  drift: ^2.14.0
  supabase_flutter: ^2.0.0
  firebase_core: ^2.24.0
  firebase_analytics: ^10.7.0
  firebase_crashlytics: ^3.4.0
  firebase_remote_config: ^4.3.0
  google_sign_in: ^6.1.0
  sign_in_with_apple: ^5.0.0
```

## 📊 성공 지표

### 사용자 경험
- **앱 실행 시간**: 1초 이내

### 비즈니스 지표
- **API 비용**: 매월 3천원 이내 (초과되면 BM 도입)

## 🚦 개발 로드맵

### Phase 1: MVP (현재)
- [x] 시 창작 UI
- [ ] 기본 시 창작 기능
- [ ] 로컬 저장
- [ ] 설정 화면

### Phase 2: 사용자 경험 개선
- [ ] 사용자 인증 시스템
- [ ] 테마 구현
- [ ] 오프라인 지원 강화

### Phase 3: 고도화
- [ ] AI 모델 다양화
- [ ] 클라우드 동기화
- [ ] 고급 편집 기능

### Phase 4: 이미지
- [ ] 갤러리 기능 추가
- [ ] 이미지 편집 추가
- [ ] 다국어 지원

## 📋 품질 보증

### 테스트 전략
- **단위 테스트**: 비즈니스 로직 검증
- **위젯 테스트**: UI 컴포넌트 테스트
- **통합 테스트**: 전체 플로우 검증

### 모니터링
- **Firebase Crashlytics**: 실시간 오류 추적
- **Firebase Analytics**: 사용자 행동 분석
- **성능 모니터링**: 앱 성능 지표 추적

---
